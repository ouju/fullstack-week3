{"version":3,"sources":["components/Name.js","services/persons.js","App.js","index.js"],"names":["Name","_ref","person","react_default","a","createElement","name","number","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","console","log","delete","Filter","filter","handleFilterChange","value","onChange","PersonForm","_ref2","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","_ref3","personsToShow","handleDelete","map","components_Name","key","onClick","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","useEffect","personService","initialPersons","length","toUpperCase","includes","App_Filter","event","target","App_PersonForm","preventDefault","nameObject","date","Date","toISOString","oldPersonArray","e","window","confirm","oldPerson","returnedPerson","objectSpread","App_Persons","p","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.14db910b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name = ({ person }) => {\n  return (\n    <li>{person.name} {person.number}</li>\n  )\n}\n\nexport default Name","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  console.log(id)\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  del: del\n}","import axios from 'axios'\nimport React, {useState, useEffect} from 'react'\nimport Name from './components/Name'\nimport personService from './services/persons'\n\nconst Filter = ({filter, handleFilterChange}) =>\n  <p>rajaa näytettäviä: <input value={filter} onChange={handleFilterChange}/></p>\n\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\n  return (\n    <form onSubmit={addName}>\n      <div>\n        nimi: <input value={newName} onChange={handleNameChange}/>\n      </div>\n      <div>\n        numero: <input value={newNumber} onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = ({personsToShow, handleDelete}) =>\n  personsToShow.map(person => <div><Name key={person.id} person={person} /><button onClick={() => {handleDelete(person)}}>poista</button></div>)\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n  console.log('render', persons.length, 'persons')\n\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString()\n    }\n\n    const oldPersonArray = persons.filter(e => e.name === nameObject.name)\n    if (oldPersonArray.length > 0) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const oldPerson = oldPersonArray[0]\n        personService\n          .update(oldPerson.id, nameObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => oldPerson.id === person.id ? \n                { ...returnedPerson, id: person.id }\n                : person ))\n            })\n      }\n    } else {\n      personService\n        .create(nameObject)\n          .then(newName => {\n            setPersons(persons.concat(newName))\n            setNewName('')\n            setNewNumber('')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Poistetaanko ${person.name}?`)) {\n      personService.del(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n    }\n  }\n\n  const personsToShow = filter === ''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase()))\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      \n      <h2>lisää uusi</h2>\n      <PersonForm addName={addName} \n        newName={newName} \n        handleNameChange={handleNameChange} \n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange} \n      />\n      \n      <h2>Numerot</h2>\n      <Persons personsToShow={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}